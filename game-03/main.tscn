[gd_scene load_steps=97 format=4 uid="uid://d2u65kdgra1ho"]

[ext_resource type="PackedScene" uid="uid://xb5tlrj2jtm4" path="res://game-03/spike.tscn" id="1_sju2n"]
[ext_resource type="Script" path="res://addons/block_code/simple_nodes/simple_character/simple_character.gd" id="2_85ife"]
[ext_resource type="Texture2D" uid="uid://mfraf01fsxgr" path="res://game-03/tiles-a.png" id="2_g5yr1"]
[ext_resource type="Texture2D" uid="uid://d0c8g4ratphw4" path="res://game-03/player-red.png" id="3_esnh3"]
[ext_resource type="Script" path="res://addons/block_code/block_code_node/block_code.gd" id="4_fu8ce"]
[ext_resource type="Script" path="res://addons/block_code/serialization/block_serialization.gd" id="5_6fp52"]
[ext_resource type="Script" path="res://addons/block_code/serialization/block_serialized_properties.gd" id="6_iuj3m"]
[ext_resource type="Script" path="res://addons/block_code/ui/block_canvas/option_data.gd" id="7_cr1q6"]
[ext_resource type="Script" path="res://addons/block_code/serialization/block_script_serialization.gd" id="8_0dgug"]
[ext_resource type="Script" path="res://addons/block_code/ui/block_canvas/variable_resource.gd" id="9_mpv3d"]
[ext_resource type="Texture2D" uid="uid://bmkupx658eth0" path="res://game-02/floor-tile.png" id="10_74vht"]

[sub_resource type="TileMapPattern" id="TileMapPattern_drgft"]
tile_data = PackedInt32Array(0, 65536, 0, 65536, 0, 0, 1, 131072, 0, 65537, 0, 0, 2, 131072, 0, 65538, 0, 0, 3, 196608, 0, 65539, 0, 0)

[sub_resource type="TileMapPattern" id="TileMapPattern_bmadt"]
tile_data = PackedInt32Array(0, 327680, 0, 1, 393216, 0, 2, 393216, 0, 3, 458752, 0)

[sub_resource type="TileMapPattern" id="TileMapPattern_kofmh"]
tile_data = PackedInt32Array(0, 458752, 1, 1, 393216, 2, 2, 327680, 2, 3, 524288, 1)

[sub_resource type="TileMapPattern" id="TileMapPattern_egqfc"]
tile_data = PackedInt32Array(0, 65536, 1, 1, 131072, 1, 2, 196608, 1, 3, 262144, 1)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_nfbc1"]
texture = ExtResource("2_g5yr1")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
1:0/0/physics_layer_0/polygon_0/one_way = true
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:0/0/physics_layer_0/polygon_0/one_way = true
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:0/0/physics_layer_0/polygon_0/one_way = true
4:0/0 = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
4:0/0/physics_layer_0/polygon_0/one_way = true
5:0/0 = 0
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
5:0/0/physics_layer_0/polygon_0/one_way = true
6:0/0 = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
6:0/0/physics_layer_0/polygon_0/one_way = true
7:0/0 = 0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
7:0/0/physics_layer_0/polygon_0/one_way = true
8:0/0 = 0
8:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
8:0/0/physics_layer_0/polygon_0/one_way = true
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
5:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, 64, -64, 64, -64, -64, 0, -64)
6:1/0 = 0
6:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -64, 64, -64, 64, 64, 0, 64)
7:1/0 = 0
7:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
7:1/0/physics_layer_0/polygon_0/one_way = true
8:1/0 = 0
8:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
8:1/0/physics_layer_0/polygon_0/one_way = true
9:1/0 = 0
10:1/0 = 0
10:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
11:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
5:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
5:2/0/physics_layer_0/polygon_0/one_way = true
6:2/0 = 0
6:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
6:2/0/physics_layer_0/polygon_0/one_way = true
7:2/0 = 0
7:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
7:2/0/physics_layer_0/polygon_0/one_way = true
8:2/0 = 0
8:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
8:2/0/physics_layer_0/polygon_0/one_way = true
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0

[sub_resource type="TileSet" id="TileSet_3w6y7"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 0
physics_layer_0/collision_mask = 0
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Terrain 0"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
sources/0 = SubResource("TileSetAtlasSource_nfbc1")
pattern_0 = SubResource("TileMapPattern_drgft")
pattern_1 = SubResource("TileMapPattern_bmadt")
pattern_2 = SubResource("TileMapPattern_kofmh")
pattern_3 = SubResource("TileMapPattern_egqfc")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jvkct"]
size = Vector2(485, 82)

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_425aq"]
texture = ExtResource("2_g5yr1")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
1:0/0 = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
1:0/0/physics_layer_0/polygon_0/one_way = true
2:0/0 = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:0/0/physics_layer_0/polygon_0/one_way = true
3:0/0 = 0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:0/0/physics_layer_0/polygon_0/one_way = true
4:0/0 = 0
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
4:0/0/physics_layer_0/polygon_0/one_way = true
5:0/0 = 0
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
5:0/0/physics_layer_0/polygon_0/one_way = true
6:0/0 = 0
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
6:0/0/physics_layer_0/polygon_0/one_way = true
7:0/0 = 0
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
7:0/0/physics_layer_0/polygon_0/one_way = true
8:0/0 = 0
8:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
8:0/0/physics_layer_0/polygon_0/one_way = true
9:0/0 = 0
10:0/0 = 0
11:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
5:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, 64, -64, 64, -64, -64, 0, -64)
6:1/0 = 0
6:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, -64, 64, -64, 64, 64, 0, 64)
7:1/0 = 0
7:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
7:1/0/physics_layer_0/polygon_0/one_way = true
8:1/0 = 0
8:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
8:1/0/physics_layer_0/polygon_0/one_way = true
9:1/0 = 0
10:1/0 = 0
10:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
11:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
5:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
5:2/0/physics_layer_0/polygon_0/one_way = true
6:2/0 = 0
6:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
6:2/0/physics_layer_0/polygon_0/one_way = true
7:2/0 = 0
7:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
7:2/0/physics_layer_0/polygon_0/one_way = true
8:2/0 = 0
8:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
8:2/0/physics_layer_0/polygon_0/one_way = true
9:2/0 = 0
10:2/0 = 0
11:2/0 = 0

[sub_resource type="TileSet" id="TileSet_2j4du"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 2
terrain_set_0/mode = 0
terrain_set_0/terrain_0/name = "Terrain 0"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
sources/0 = SubResource("TileSetAtlasSource_425aq")
pattern_0 = SubResource("TileMapPattern_drgft")
pattern_1 = SubResource("TileMapPattern_bmadt")
pattern_2 = SubResource("TileMapPattern_kofmh")
pattern_3 = SubResource("TileMapPattern_egqfc")

[sub_resource type="Resource" id="Resource_rnkfh"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_6icd4"]
script = ExtResource("7_cr1q6")
selected = 1
items = ["top-down", "platformer", "spaceship"]

[sub_resource type="Resource" id="Resource_r0i7t"]
script = ExtResource("7_cr1q6")
selected = 0
items = ["player_1", "player_2"]

[sub_resource type="Resource" id="Resource_6vunm"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"kind": SubResource("Resource_6icd4"),
"player": SubResource("Resource_r0i7t")
}]]

[sub_resource type="Resource" id="Resource_ox61b"]
script = ExtResource("5_6fp52")
name = &"simplecharacter_move"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_6vunm")

[sub_resource type="Resource" id="Resource_p3ngy"]
script = ExtResource("5_6fp52")
name = &"process"
position = Vector2(175, 150)
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_ox61b")]]
block_serialized_properties = SubResource("Resource_rnkfh")

[sub_resource type="Resource" id="Resource_tq4w4"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_himfi"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["block_name", &"set_var_health"], ["label", "StatementBlock"], ["color", Color(1, 0.560784, 0.0313726, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Set health to {value: INT}"], ["statement", "health = {value}"], ["defaults", {}], ["param_input_strings", {
"value": 3
}]]

[sub_resource type="Resource" id="Resource_ctyns"]
script = ExtResource("5_6fp52")
name = &"set_var_health"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_himfi")

[sub_resource type="Resource" id="Resource_iqs3w"]
script = ExtResource("5_6fp52")
name = &"ready"
position = Vector2(200, 325)
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_ctyns")]]
block_serialized_properties = SubResource("Resource_tq4w4")

[sub_resource type="Resource" id="Resource_a3oaa"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"method_name": "heal"
}]]

[sub_resource type="Resource" id="Resource_hj8vi"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["block_name", &"set_var_health"], ["label", "StatementBlock"], ["color", Color(1, 0.560784, 0.0313726, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Set health to {value: INT}"], ["statement", "health = {value}"], ["defaults", {}], ["param_input_strings", {
"value": 3
}]]

[sub_resource type="Resource" id="Resource_yo1jw"]
script = ExtResource("5_6fp52")
name = &"set_var_health"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_hj8vi")

[sub_resource type="Resource" id="Resource_ra5cn"]
script = ExtResource("5_6fp52")
name = &"define_method"
position = Vector2(100, 650)
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_yo1jw")]]
block_serialized_properties = SubResource("Resource_a3oaa")

[sub_resource type="Resource" id="Resource_w1tvr"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_ieq61"]
script = ExtResource("6_iuj3m")
block_class = &"ControlBlock"
serialized_props = [["scope", ""], ["param_input_strings_array", [{
"condition": false
}]]]

[sub_resource type="Resource" id="Resource_hwyah"]
script = ExtResource("7_cr1q6")
selected = 0
items = ["==", ">", "<", ">=", "<=", "!="]

[sub_resource type="Resource" id="Resource_7hplf"]
script = ExtResource("6_iuj3m")
block_class = &"ParameterBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"float1": 1.0,
"float2": 0.0,
"op": SubResource("Resource_hwyah")
}]]

[sub_resource type="Resource" id="Resource_akpxr"]
script = ExtResource("6_iuj3m")
block_class = &"ParameterBlock"
serialized_props = [["block_name", &"get_var_health"], ["label", "Param"], ["color", Color(1, 0.560784, 0.0313726, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "health"], ["statement", "health"], ["defaults", {}], ["variant_type", 2], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_u4rb8"]
script = ExtResource("5_6fp52")
name = &"get_var_health"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_akpxr")

[sub_resource type="Resource" id="Resource_ssqfd"]
script = ExtResource("5_6fp52")
name = &"compare"
position = Vector2(0, 0)
path_child_pairs = [[NodePath("MarginContainer/HBoxContainer/ParameterInput0/SnapPoint"), SubResource("Resource_u4rb8")]]
block_serialized_properties = SubResource("Resource_7hplf")

[sub_resource type="Resource" id="Resource_bqayy"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["scope", ""], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_my5j4"]
script = ExtResource("5_6fp52")
name = &"queue_free"
position = Vector2(20, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_bqayy")

[sub_resource type="Resource" id="Resource_0ioc8"]
script = ExtResource("5_6fp52")
name = &"if"
position = Vector2(0, 0)
path_child_pairs = [[NodePath("VBoxContainer/MarginContainer/Rows/Row0/RowHBoxContainer/RowHBox/ParameterInput0/SnapPoint"), SubResource("Resource_ssqfd")], [NodePath("VBoxContainer/MarginContainer/Rows/SnapContainer0/SnapPoint"), SubResource("Resource_my5j4")]]
block_serialized_properties = SubResource("Resource_ieq61")

[sub_resource type="Resource" id="Resource_plk42"]
script = ExtResource("5_6fp52")
name = &"process"
position = Vector2(450, 325)
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_0ioc8")]]
block_serialized_properties = SubResource("Resource_w1tvr")

[sub_resource type="Resource" id="Resource_nv61i"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"method_name": "get_hurt"
}]]

[sub_resource type="Resource" id="Resource_xlgxb"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["block_name", &"set_var_health"], ["label", "StatementBlock"], ["color", Color(1, 0.560784, 0.0313726, 1)], ["block_type", 2], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "Set health to {value: INT}"], ["statement", "health = {value}"], ["defaults", {}], ["param_input_strings", {
"value": null
}]]

[sub_resource type="Resource" id="Resource_g3aal"]
script = ExtResource("6_iuj3m")
block_class = &"ParameterBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"a": 1.0,
"b": 1.0
}]]

[sub_resource type="Resource" id="Resource_rilk8"]
script = ExtResource("6_iuj3m")
block_class = &"ParameterBlock"
serialized_props = [["block_name", &"get_var_health"], ["label", "Param"], ["color", Color(1, 0.560784, 0.0313726, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", ""], ["block_format", "health"], ["statement", "health"], ["defaults", {}], ["variant_type", 2], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_kvirb"]
script = ExtResource("5_6fp52")
name = &"get_var_health"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_rilk8")

[sub_resource type="Resource" id="Resource_bdtf5"]
script = ExtResource("5_6fp52")
name = &"subtract"
position = Vector2(0, 0)
path_child_pairs = [[NodePath("MarginContainer/HBoxContainer/ParameterInput0/SnapPoint"), SubResource("Resource_kvirb")]]
block_serialized_properties = SubResource("Resource_g3aal")

[sub_resource type="Resource" id="Resource_a168a"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"text": "hurt"
}]]

[sub_resource type="Resource" id="Resource_lumn4"]
script = ExtResource("5_6fp52")
name = &"print"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_a168a")

[sub_resource type="Resource" id="Resource_h8g4d"]
script = ExtResource("5_6fp52")
name = &"set_var_health"
position = Vector2(0, 0)
path_child_pairs = [[NodePath("VBoxContainer/TopMarginContainer/MarginContainer/HBoxContainer/ParameterInput0/SnapPoint"), SubResource("Resource_bdtf5")], [NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_lumn4")]]
block_serialized_properties = SubResource("Resource_xlgxb")

[sub_resource type="Resource" id="Resource_42tlk"]
script = ExtResource("5_6fp52")
name = &"define_method"
position = Vector2(100, 450)
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_h8g4d")]]
block_serialized_properties = SubResource("Resource_nv61i")

[sub_resource type="Resource" id="Resource_3rnuc"]
script = ExtResource("9_mpv3d")
var_name = "health"
var_type = 2

[sub_resource type="Resource" id="Resource_4iflj"]
script = ExtResource("8_0dgug")
script_inherits = "SimpleCharacter"
block_trees = Array[ExtResource("5_6fp52")]([SubResource("Resource_p3ngy"), SubResource("Resource_iqs3w"), SubResource("Resource_ra5cn"), SubResource("Resource_plk42"), SubResource("Resource_42tlk")])
variables = Array[ExtResource("9_mpv3d")]([SubResource("Resource_3rnuc")])
generated_script = "extends SimpleCharacter

var health: int


func _process(delta):
	move_with_player_buttons(\"player_1\", \"platformer\", delta)

	if float(health) == 0:
		queue_free()

func _ready():
	health = 3

func heal():
	health = 3

func get_hurt():
	health = int(float(health) - 1)
	print('hurt')

"
version = 0

[sub_resource type="AtlasTexture" id="AtlasTexture_4ypiw"]
atlas = ExtResource("3_esnh3")
region = Rect2(592, 0, 148, 148)

[sub_resource type="AtlasTexture" id="AtlasTexture_ccwli"]
atlas = ExtResource("3_esnh3")
region = Rect2(740, 0, 148, 148)

[sub_resource type="AtlasTexture" id="AtlasTexture_56rcg"]
atlas = ExtResource("3_esnh3")
region = Rect2(148, 0, 148, 148)

[sub_resource type="AtlasTexture" id="AtlasTexture_bfnec"]
atlas = ExtResource("3_esnh3")
region = Rect2(296, 0, 148, 148)

[sub_resource type="AtlasTexture" id="AtlasTexture_mxrqp"]
atlas = ExtResource("3_esnh3")
region = Rect2(444, 0, 148, 148)

[sub_resource type="AtlasTexture" id="AtlasTexture_2afmv"]
atlas = ExtResource("3_esnh3")
region = Rect2(592, 0, 148, 148)

[sub_resource type="SpriteFrames" id="SpriteFrames_pqvhq"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_4ypiw")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ccwli")
}],
"loop": false,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_56rcg")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bfnec")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_mxrqp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_2afmv")
}],
"loop": true,
"name": &"walk",
"speed": 10.0
}]

[sub_resource type="Animation" id="Animation_b04os"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../AnimatableBody2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_ecccd"]
resource_name = "move-platform"
length = 4.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../AnimatableBody2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 2, 4),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(-632, 774), Vector2(0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_37pf6"]
_data = {
"RESET": SubResource("Animation_b04os"),
"move-platform": SubResource("Animation_ecccd")
}

[sub_resource type="Resource" id="Resource_b0aen"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_1h6wi"]
script = ExtResource("5_6fp52")
name = &"ready"
position = Vector2(54, 47)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_b0aen")

[sub_resource type="Resource" id="Resource_ek1ku"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"method_name": "start_moving"
}]]

[sub_resource type="Resource" id="Resource_pi83v"]
script = ExtResource("7_cr1q6")
selected = 0
items = ["ahead", "backwards"]

[sub_resource type="Resource" id="Resource_g5ph7"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"animation": "move-platform",
"direction": SubResource("Resource_pi83v")
}]]

[sub_resource type="Resource" id="Resource_bmhim"]
script = ExtResource("5_6fp52")
name = &"animationplayer_play"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_g5ph7")

[sub_resource type="Resource" id="Resource_lnl5b"]
script = ExtResource("5_6fp52")
name = &"define_method"
position = Vector2(50, 200)
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_bmhim")]]
block_serialized_properties = SubResource("Resource_ek1ku")

[sub_resource type="Resource" id="Resource_qncla"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"method_name": "stop_moving"
}]]

[sub_resource type="Resource" id="Resource_x1fby"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["scope", ""], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_8c63d"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"text": "stop moving"
}]]

[sub_resource type="Resource" id="Resource_fm0xn"]
script = ExtResource("5_6fp52")
name = &"print"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_8c63d")

[sub_resource type="Resource" id="Resource_fx2gv"]
script = ExtResource("5_6fp52")
name = &"animationplayer_pause"
position = Vector2(0, 0)
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_fm0xn")]]
block_serialized_properties = SubResource("Resource_x1fby")

[sub_resource type="Resource" id="Resource_r8pio"]
script = ExtResource("5_6fp52")
name = &"define_method"
position = Vector2(225, 50)
path_child_pairs = [[NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_fx2gv")]]
block_serialized_properties = SubResource("Resource_qncla")

[sub_resource type="Resource" id="Resource_yk5um"]
script = ExtResource("8_0dgug")
script_inherits = "AnimationPlayer"
block_trees = Array[ExtResource("5_6fp52")]([SubResource("Resource_1h6wi"), SubResource("Resource_lnl5b"), SubResource("Resource_r8pio")])
variables = Array[ExtResource("9_mpv3d")]([])
generated_script = "extends AnimationPlayer


func _ready():
	pass

func start_moving():
	if \"ahead\" == \"ahead\":
		play('move-platform')
	else:
		play_backwards('move-platform')

func stop_moving():
	pause()
	print('stop moving')

"
version = 0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4axiq"]
size = Vector2(241, 177)

[sub_resource type="Resource" id="Resource_8m3bb"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_2sfo6"]
script = ExtResource("6_iuj3m")
block_class = &"ParameterBlock"
serialized_props = [["block_name", &"parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", "func _on_body_entered(body: Node2D):
"], ["block_format", "body"], ["statement", "body"], ["defaults", {}], ["variant_type", 24], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_c3jcl"]
script = ExtResource("5_6fp52")
name = &"parameter_block"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_2sfo6")

[sub_resource type="Resource" id="Resource_ppqk1"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"group": "animations",
"method_name": "start_moving"
}]]

[sub_resource type="Resource" id="Resource_npk23"]
script = ExtResource("5_6fp52")
name = &"call_method_group"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_ppqk1")

[sub_resource type="Resource" id="Resource_1v5r0"]
script = ExtResource("5_6fp52")
name = &"area2d_on_entered"
position = Vector2(125, 100)
path_child_pairs = [[NodePath("VBoxContainer/TopMarginContainer/MarginContainer/HBoxContainer/ParameterOutput0/SnapPoint"), SubResource("Resource_c3jcl")], [NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_npk23")]]
block_serialized_properties = SubResource("Resource_8m3bb")

[sub_resource type="Resource" id="Resource_6e2or"]
script = ExtResource("6_iuj3m")
block_class = &"EntryBlock"
serialized_props = [["scope", ""], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_faugd"]
script = ExtResource("6_iuj3m")
block_class = &"ParameterBlock"
serialized_props = [["block_name", &"parameter_block"], ["label", "Param"], ["color", Color(0.294118, 0.482353, 0.92549, 1)], ["block_type", 3], ["position", Vector2(0, 0)], ["scope", "func _on_body_exited(body: Node2D):
"], ["block_format", "body"], ["statement", "body"], ["defaults", {}], ["variant_type", 24], ["param_input_strings", {}]]

[sub_resource type="Resource" id="Resource_2au7j"]
script = ExtResource("5_6fp52")
name = &"parameter_block"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_faugd")

[sub_resource type="Resource" id="Resource_auxuy"]
script = ExtResource("6_iuj3m")
block_class = &"StatementBlock"
serialized_props = [["scope", ""], ["param_input_strings", {
"group": "animations",
"method_name": "stop_moving"
}]]

[sub_resource type="Resource" id="Resource_kq0oc"]
script = ExtResource("5_6fp52")
name = &"call_method_group"
position = Vector2(0, 0)
path_child_pairs = []
block_serialized_properties = SubResource("Resource_auxuy")

[sub_resource type="Resource" id="Resource_jytqm"]
script = ExtResource("5_6fp52")
name = &"area2d_on_exited"
position = Vector2(175, 250)
path_child_pairs = [[NodePath("VBoxContainer/TopMarginContainer/MarginContainer/HBoxContainer/ParameterOutput0/SnapPoint"), SubResource("Resource_2au7j")], [NodePath("VBoxContainer/SnapPoint"), SubResource("Resource_kq0oc")]]
block_serialized_properties = SubResource("Resource_6e2or")

[sub_resource type="Resource" id="Resource_yaxj2"]
script = ExtResource("8_0dgug")
script_inherits = "Area2D"
block_trees = Array[ExtResource("5_6fp52")]([SubResource("Resource_1v5r0"), SubResource("Resource_jytqm")])
variables = Array[ExtResource("9_mpv3d")]([])
generated_script = "extends Area2D


func _on_body_entered(body: Node2D):

	get_tree().call_group('animations', 'start_moving')

func _on_body_exited(body: Node2D):

	get_tree().call_group('animations', 'stop_moving')

func _init():
	body_entered.connect(_on_body_entered)
	body_entered.connect(_on_body_entered)
"
version = 0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ebxal"]
size = Vector2(126, 124)

[node name="Main" type="Node2D"]

[node name="Area2D2" parent="." instance=ExtResource("1_sju2n")]

[node name="AnimatableBody2D" type="AnimatableBody2D" parent="."]
collision_layer = 2

[node name="MovablePlatform" type="TileMapLayer" parent="AnimatableBody2D"]
tile_map_data = PackedByteArray("AAAAAP3/AAAFAAAAAAABAP3/AAAGAAAAAAACAP3/AAAGAAAAAAADAP3/AAAHAAAAAAA=")
tile_set = SubResource("TileSet_3w6y7")

[node name="Area2D3" parent="AnimatableBody2D/MovablePlatform" instance=ExtResource("1_sju2n")]
show_behind_parent = true
position = Vector2(-743, -640)

[node name="CollisionShape2D" type="CollisionShape2D" parent="AnimatableBody2D"]
position = Vector2(257.5, -342)
shape = SubResource("RectangleShape2D_jvkct")
one_way_collision = true

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAFAAIAAAAHAAEAAAAGAAIAAAAGAAIAAAAHAAIAAAAFAAIAAAAIAAIAAAAIAAEAAAAAAAMAAAAHAAEAAAABAAMAAAAGAAIAAAACAAMAAAAFAAIAAAADAAMAAAAIAAEAAAADAAAAAAAFAAAAAAAEAAAAAAAGAAAAAAAFAAAAAAAGAAAAAAAGAAAAAAAHAAAAAAAIAP7/AAAFAAAAAAAJAP7/AAAGAAAAAAAKAP7/AAAGAAAAAAALAP7/AAAHAAAAAAA=")
tile_set = SubResource("TileSet_2j4du")

[node name="SimpleCharacter" type="CharacterBody2D" parent="." groups=["affected_by_gravity", "player"]]
position = Vector2(301, -596)
collision_mask = 2
floor_constant_speed = true
floor_snap_length = 14.2
platform_on_leave = 2
script = ExtResource("2_85ife")
speed = Vector2(300, 800)

[node name="BlockCode" type="Node" parent="SimpleCharacter"]
script = ExtResource("4_fu8ce")
block_script = SubResource("Resource_4iflj")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="SimpleCharacter"]
position = Vector2(11, -3)
sprite_frames = SubResource("SpriteFrames_pqvhq")
animation = &"walk"
autoplay = "walk"

[node name="Camera2D" type="Camera2D" parent="SimpleCharacter"]
zoom = Vector2(0.495, 0.495)

[node name="AnimationPlayer" type="AnimationPlayer" parent="." groups=["animations"]]
root_node = NodePath("../SimpleCharacter")
libraries = {
"": SubResource("AnimationLibrary_37pf6")
}
autoplay = "move-platform"

[node name="BlockCode" type="Node" parent="AnimationPlayer"]
script = ExtResource("4_fu8ce")
block_script = SubResource("Resource_yk5um")

[node name="Area2D" type="Area2D" parent="."]
position = Vector2(-492, 372)
collision_layer = 8
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(644.5, -71.5)
shape = SubResource("RectangleShape2D_4axiq")

[node name="BlockCode" type="Node" parent="Area2D"]
script = ExtResource("4_fu8ce")
block_script = SubResource("Resource_yaxj2")

[node name="RigidBody2D" type="RigidBody2D" parent="."]
position = Vector2(1269, -422)
collision_layer = 4
collision_mask = 3

[node name="Floor-tile" type="Sprite2D" parent="RigidBody2D"]
texture = ExtResource("10_74vht")

[node name="CollisionShape2D" type="CollisionShape2D" parent="RigidBody2D"]
shape = SubResource("RectangleShape2D_ebxal")
